import{a as l,S as g,i as p}from"./assets/vendor-b0d10f48.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))a(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const n of t.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&a(n)}).observe(document,{childList:!0,subtree:!0});function o(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?t.credentials="include":e.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function a(e){if(e.ep)return;e.ep=!0;const t=o(e);fetch(e.href,t)}})();function y(r){r.classList.remove("loader-hidden")}function h(r){r.classList.add("loader-hidden")}async function b(r,s,o){l.defaults.baseURL="https://pixabay.com";const a={key:"44349742-ecc8a7b60aea5585f0c207813",q:r,image_type:"photo",orientation:"horizontal",safesearch:!0,per_page:o,page:s};try{return(await l.get("/api/",{params:a})).data}catch(e){console.log(e)}}const L="/goit-js-hw-12/assets/icon-close-5bc7b79a.svg",u=document.querySelector(".search-form");document.querySelector(".search-form__input");const v=document.querySelector(".gallery"),d=document.querySelector(".loader"),i=document.querySelector(".load-more__button");let c,m;m=new g(".gallery a");function f(){v.innerHTML=""}function q(){return pageNumber=pageNumber+1}function S(){i.classList.remove("active")}function N(){return pageNumber=1}u.addEventListener("submit",async r=>{if(r.preventDefault(),c=r.target.elements.query.value.trim(),N(),S(),c.length!==0){y(d);try{const o=await b(c,pageNumber,perPage);loadMoreControle(),o.hits.length===0?(p.show({class:"izt-toast-message",message:"Sorry, there are no images matching your search query. Please try again!",messageSize:"16",messageLineHeight:"24",messageColor:"#ffffff",backgroundColor:"#b51b1b",iconUrl:L,position:"topRight",theme:"dark"}),f()):(f(),q(),m.refresh(),i.classList.add("active"))}catch(o){console.log(o)}h(d)}u.reset()});i.addEventListener("click",loadMoreControle);
//# sourceMappingURL=commonHelpers.js.map
